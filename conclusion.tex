\part{Conclusion}
\label{pa:conclusion}
\chapter{Future work}
\section{General improvements}
We have used an undirected network, which is not the preferred type to use with
PageRank, but it works. An idea could be to use KEGG pathways\cite{kegg}, which
has the option of downloading directed networks of several types.
STRING\cite{str} also has some directed network information, together with
weights. Because of STRINGs size, utilizing a Neo4J database to perform the
ranking algorithms could be a better option than directly in Cytoscape.

In the future, maybe a database with complete protein complexes could exclude
the need for clustering, and provide different ways of ranking them based on
query criterias.

Other ranking algorithms than PageRank could also be used. There are numerous
variations based off of this well known algorithm, for example NetRank and
GeneRank\cite{netrank,generank}. Not all of these PageRank variants are intended
to be used with PPI networks, but they can in many cases be modified to fit this
specific purpose.

\section{Minor features to complement Ranklust/clusterMaker2}
A compiled list of all considered features and tweaks in the Ranklust
contribution to clusterMaker2

\begin{itemize}
    \item User can specify what direction the ranking algorithm should consider
        for the graph
\end{itemize}

\section{Ranking through Neo4J}
ClusterMaker2 does every calculation within Cytoscape. There exists another way
of doing large and complex calculations, especially when it comes to algorithms
that focus on edge information in the network. CyNeo4j\cite{cyneo4j} is
a Cytoscape App that can realise this idea. It supports import/export of data
with a Neo4J\cite{neo4j} database. The original CyNeo4J Github-repository does
not support user authentication at the moment, but during the discussion about
what ranking algorithm should be used, Neo4J was an alternative. It resulted in
a git fork\cite{git-fork} of the CyNeo4J repository and simple user/password
authentication was added.

\subsection{Data communication}
Data communication between the Neo4J database server and the Cytoscape instance
is done through the CyNeo4J app to Cytoscape \cite{cyneo4j}. CyNeo4J is a
Cytoscape app that was developed during the Google Summer Code 2014 arrangement.
It supports connecting to a Neo4J instance, as well as syncing data up and down
from and to the database server. One thing it did not support was authentication
on Neo4J servers. Not having authentication is a serious problem, so we
implemented a simple way of getting access to the database server by providing a
possibility to insert username and password at the same time the user has to
provide a URL to the Neo4J database server instance. Implementation-wise, this
only required an extra header to be included in each http request going to the
password protected Neo4J database server instance. Every request used the static
\textbf{Request} class to Get/Post/Put HTTP requests to the Neo4J database
server instance. Except for creating the Auth64 encoded information, the
refactor looked something along these lines in all of the files.

Before:
\begin{lstlisting}[frame=single,language=Java]
Request req = Request.Post(url)
        .bodyString(call.getPayload(), ContentType.APPLICATION_JSON);
\end{lstlisting}

After:
\begin{lstlisting}[frame=single,language=Java]
Request req = Request.Post(url)
        .addHeader("Authorization", auth64EncodedInfo)
        .bodyString(call.getPayload(), ContentType.APPLICATION_JSON);
\end{lstlisting}

Synchronization time between Neo4J and Cytoscape through the CyNeo4J app is a
huge timesink. As of now, the time it takes to populate an empty Cytoscape
network with the gene information from STRING is about 2 hours, though on a slow
laptop. This could be shortened by exporting the Neo4J data with GraphML and
into Cytoscape. Because after the initial data is inside Cytoscape, updates to
the Neo4J instance goes much faster.

The CyNeo4J also uses a legacy HTTP library to get information from the Neo4J
database \cite{legacy-neo4j}. It is possible that the performance increases with
the new library \cite{transactional-neo4j}. The new library supports creating
transactions, which implicit gives support for rollbacks in case something goes
wrong with the query.

A future improvement to the CyNeo4J app could be to change the communication
between Neo4J and Cytoscape to be done in GraphML and not Cypher. This is
because through this whole process of importing and exporting data from and to
Neo4J, GraphML has shown itself to be a superior format over Cypher. Though, to
this day, direct queries to a running Neo4J instance has to be done in Cypher,
and is not possible in GraphML.
